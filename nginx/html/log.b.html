<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Crypt times - log</title>
    <link rel="icon" href="favicon-log.ico" type="image/x-icon">
    <link rel="shortcut icon" href="favicon-log.ico" type="image/x-icon"> 
    <style>
            /* ğŸ”¹ æš—è‰²æ¨¡å¼ï¼ˆé è¨­ï¼‰ */
    body {
      font-family: Arial, sans-serif;
      background-color: #1E1E1E;
      padding: 20px;
      display: flex;
      flex-direction: column;
      align-items: center;
      color: #E0E0E0;
      transition: background 0.3s, color 0.3s;
    }

    .container {
      width: 100%;
      max-width: 600px;
      display: flex;
      flex-direction: column;
      height: 90vh;
    }

    .log-container {
      flex-grow: 1;
      overflow-y: auto;
      padding-top: 10px;
    }

    .log-entry {
      background: #2C2C2C;
      padding: 15px;
      margin: 10px 0;
      border-radius: 10px;
      box-shadow: 0 2px 5px rgba(0, 0, 0, 0.3);
      border-left: 5px solid #1DA1F2;
      white-space: pre-line;
      color: #E0E0E0;
      transition: background 0.3s, color 0.3s;
    }

    .log-title {
      font-size: 18px;
      font-weight: 700;
      margin-bottom: 5px;
      color: #FFFFFF;
    }

    .timestamp {
      font-size: 14px;
      font-weight: 700;
      color: #A0A0A0;
      display: block;
      margin-top: 5px;
    }

  a{
    color: #FFFFFF;
  }

  .light-mode a{
    color: #1E1E1E;
  }

  
    /* ğŸ”¹ ç™½è‰²æ¨¡å¼ */
    .light-mode {
      background-color: #414242;
      color: #333;
      margin-bottom: 10px;
    }

    .light-mode .log-entry {
      background: #FFFFFF;
      color: #333;
      border-left: 5px solid #007BFF;
      box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
    }

    .light-mode .log-title {
      color: #222;
    }

    .light-mode .timestamp {
      color: gray;
    }

    /* ğŸ”¹ Switch é–‹é—œæ¨£å¼ */
    .switch-container {
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .switch-label {
      font-size: 16px;
      margin-left: 10px;
    }

    .switch {
      position: relative;
      display: inline-block;
      width: 50px;
      height: 25px;
    }

    .switch input {
      opacity: 0;
      width: 0;
      height: 0;
    }

    .slider {
      position: absolute;
      cursor: pointer;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background-color: #ccc;
      transition: .4s;
      border-radius: 25px;
    }

    .slider:before {
      position: absolute;
      content: "";
      height: 17px;
      width: 17px;
      left: 4px;
      bottom: 4px;
      background-color: white;
      transition: .4s;
      border-radius: 50%;
    }

    input:checked + .slider {
      background-color: #1DA1F2;
    }

    input:checked + .slider:before {
      transform: translateX(24px);
    }
    </style>
</head>
<body>
    
    <div id="app" class="container">
        <div class="switch-container">
            <label class="switch">
              <input type="checkbox" id="modeSwitch" onchange="toggleMode()">
              <span class="slider"></span>
            </label>
          </div>
          <br>
        <div class="log-container">
            <div class="log-entry"><div class="log-title">frontend: light-mode & dark-mode</div><p>--</p><span class="timestamp">2025/02/11</span></div>
            <div class="log-entry"><div class="log-title">backend: local-cry add swagger</div><p>--</p><span class="timestamp">2025/02/11</span></div>
            <div class="log-entry"><div class="log-title">frontend: HTML &amp; CSS å£“ç¸® (Minification)ã€JavaScript Obfuscator</div><p>npm install -g html-minifier<br>html-minifier --collapse-whitespace --remove-comments --minify-css true --minify-js true -o output.html index.html<br><br>npm install -g uglify-js<br>uglifyjs script.js -o script.min.js -c -m<br><br>npm install -g javascript-obfuscator<br>javascript-obfuscator input.js --output output.js --compact true --control-flow-flattening true</p><span class="timestamp">2025/02/11</span></div>
            <div class="log-entry"><div class="log-title">frontend: Log time</div><p>Users can write a log entry in the text box.</p><span class="timestamp">2025/02/10</span></div>
            <div class="log-entry"><div class="log-title">backend: ExpiredJwtException</div><p>GET https://d2luynvj2paf55.cloudfront.net/api/v1/key/public 401 (Unauthorized)<br>Token å·²éæœŸï¼Œéœ€è¦é‡æ–°ç”Ÿæˆ</p><span class="timestamp">2025/02/10</span></div>
            <div class="log-entry"><div class="log-title">backend: JWT + Security</div><p>local-cry JWT + Security test ok</p><span class="timestamp">2025/02/09</span></div>
            <div class="log-entry"><div class="log-title">backend: End-to-End Encryption (E2EE)</div><p>1. The backend generates an RSA key pair (public and private keys).<br><br>2. The frontend generates an AES-256 key and encrypts it using the RSA public key.<br>This ensures that the AES key is not transmitted in plaintext.<br><br>3. The frontend encrypts the data using AES-256.<br>The data is already encrypted before transmission, preventing interception.<br><br>4. The backend decrypts the AES key using the RSA private key, then decrypts the data using AES.<br>Only the backend, which possesses the RSA private key, can decrypt the data.<br></p><span class="timestamp">2025/02/08</span></div>
            <div class="log-entry"><div class="log-title">frontend: 405</div><p>é‡è¦ç´°ç¯€<br>éŒ¯èª¤è¨Šæ¯ä¸­çš„ ResourceType&gt;OBJECT è¡¨ç¤º CloudFront å¯èƒ½æŠŠé€™å€‹è«‹æ±‚ç•¶ä½œæ˜¯å­˜å– S3 ç‰©ä»¶ï¼Œè€Œä¸æ˜¯è½‰ç™¼åˆ° API Gatewayã€‚<br><br>å›åˆ° CloudFront Origin è¨­å®š<br>Origins éœ€è¦è¨­ç½®å…©å€‹ï¼š<br>1. Origin 1 (S3 éœæ…‹ç¶²ç«™):<br>Origin domain: cry-bucket.s3.ap-southeast-2.amazonaws.com ç”¨æ–¼æä¾›å‰ç«¯éœæ…‹è³‡æº<br><br>2. Origin 2 (API Gateway):<br>Origin domain: xp91hjk4qh.execute-api.ap-southeast-2.amazonaws.com ç”¨æ–¼è™•ç† API è«‹æ±‚<br><br>Behaviors è¨­ç½®å…©å€‹è¦å‰‡ï¼š<br>1. è¦å‰‡ 1 (Default ):<br>Path pattern: Default ()<br>Origin: é¸æ“‡ Origin 1 (S3)<br>Allowed HTTP methods: GET, HEAD ç”¨æ–¼è™•ç†éœæ…‹è³‡æºè«‹æ±‚<br><br>2. è¦å‰‡ 2 (/api/):<br>Path pattern: /api/<br>Origin: é¸æ“‡ Origin 2 (API Gateway)<br>Allowed HTTP methods: GET, HEAD, OPTIONS, PUT, POST, PATCH, DELETE ç”¨æ–¼è™•ç†æ‰€æœ‰ API è«‹æ±‚ é€™æ¨£çš„è¨­ç½®å¯ä»¥è®“ï¼š</p><span class="timestamp">2025/02/08</span></div>
            <div class="log-entry"><div class="log-title">frontend & backend: CloudFront + API Gateway</div><p>1. è¨­å®š API Gateway (å¾Œç«¯) çš„ CloudFront è¡Œç‚º<br><br>2. è¨­å®š Cache Policy<br>CloudFront ä¹Ÿæ‰˜ç®¡éœæ…‹ç¶²ç«™ (S3)ï¼Œä½† API Gateway åªè™•ç† /api/*<br>åœ¨ API Gateway çš„è¡Œç‚º (/api/*) è¨­å®šï¼š<br><br>Cache Policy: Managed-CachingDisabled<br>API ä¸æ‡‰è©²å¿«å–ï¼Œå› ç‚º API å›æ‡‰æ˜¯å‹•æ…‹çš„ã€‚<br>Origin Request Policy: Managed-AllViewerExceptHostHeader<br>å…è¨± CloudFront å‚³é Headers å’Œ Query Strings çµ¦ API Gatewayã€‚<br>ç¢ºä¿ Authorization å’Œ Content-Type Headers ä¸æœƒè¢« CloudFront éæ¿¾æ‰ã€‚<br><br>3. CloudFront 403 ERROR<br>å› ç‚º CloudFront ç›®å‰ä¸å…è¨± POSTã€PUTã€DELETE ç­‰é GET/HEAD è«‹æ±‚ï¼Œé€™é€šå¸¸ç™¼ç”Ÿåœ¨ CloudFront é€£æ¥ API Gateway æ™‚<br><br>4. 405<br>API Gateway ç›´é€£æˆåŠŸï¼Œä½† CloudFront è¿”å› 405 Method Not Allowedï¼Œè¡¨ç¤º CloudFront æ²’æœ‰æ­£ç¢ºå°‡ POST è«‹æ±‚è½‰ç™¼çµ¦ API Gatewayï¼Œå¯èƒ½æ˜¯ CloudFront Behaviors è¨­å®šä¸å®Œæ•´ æˆ– API Gateway CORS å•é¡Œã€‚</p><span class="timestamp">2025/02/07</span></div>
            <div class="log-entry"><div class="log-title">frontend: S3 + CloudFront (AccessDenied)</div><p>1. æ¸…é™¤ CloudFront å¿«å–<br>CloudFront "Invalidations"ï¼ˆå¤±æ•ˆè™•ç†ï¼‰<br><br>2. CloudFront Origin è¨­å®šéŒ¯èª¤<br>Origin Type æ˜¯ S3ã€‚<br>Use Origin Access Control (OAC)<br><br>3. CloudFront "Behaviors" è¨­å®š<br>Viewer Protocol Policyï¼šé¸æ“‡ Redirect HTTP to HTTPS æˆ– HTTPS onlyã€‚<br>Cache Policyï¼šé¸æ“‡ Managed-CachingDisabledï¼ˆç¢ºä¿ä¸æœƒæœ‰å¿«å–å•é¡Œï¼‰ã€‚<br><br>4. æ¸¬è©¦ &amp; é©—è­‰<br>curl -I https://your-cloudfront-domain.cloudfront.net/index.html</p><span class="timestamp">2025/02/06</span></div> 
            <div class="log-entry"><div class="log-title">backend: Java Spring Boot Application deployed on AWS Lambda + API Gateway</div><p><a href="https://www.youtube.com/watch?v=nRKb3WEO-dI" target="_blank">Deploy a Spring Boot Application to AWS Lambda with an API Gateway</a><br><a href="https://github.com/serlesen/java-lambda/tree/chapter_1" target="_blank">https://github.com/serlesen/java-lambda/tree/chapter_1</a></p><span class="timestamp">2025/02/05</span></div>
        </div>
    </div>
    <script>
        function toggleMode() {
      document.body.classList.toggle('light-mode');

      // å–å¾— switch æŒ‰éˆ•
      const switchBtn = document.getElementById('modeSwitch');

      // å­˜å„²ç”¨æˆ¶é¸æ“‡
      if (document.body.classList.contains('light-mode')) {
        localStorage.setItem('theme', 'light');
        switchBtn.checked = true;
      } else {
        localStorage.setItem('theme', 'dark');
        switchBtn.checked = false;
      }
    }

    // è®€å–ç”¨æˆ¶çš„æ¨¡å¼é¸æ“‡
    window.onload = function() {
      const switchBtn = document.getElementById('modeSwitch');
      if (localStorage.getItem('theme') === 'light') {
        document.body.classList.add('light-mode');
        switchBtn.checked = true;
      }
    }
      </script>
</body>
</html>
